temp=_temp_${RANDOM}
set -e
trap 'catch' ERR
trap 'cleanup' EXIT

catch () {
    echo '*** FATAL ERROR in view2 ***'
    echo "(cleaning up $temp)"
    rm -f $temp
    exit 1
}
cleanup () {
    echo "(cleaning up $temp)"
    rm -f $temp
    exit 1
}

while true
do
    swipl -g 'consult(debug).' \
	  -g 'debug2.' \
	  -g 'halt.' >$temp
    #    read -p 'again?...'
    clear
    cat $temp
    sleep 2
done

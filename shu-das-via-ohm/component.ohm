components {
  Main = "[" Component+ "]"
  Component = "[" ComponentObject "]"
  ComponentObject = "{" ComponentField+ "}"
  ComponentField
    = ChildrenField
    | ConnectionsField
    | IDField
    | InputsField
    | OutputsField
    | NameField
    | SyncCodeField
    
  ChildrenField
    = dq "children" dq ":" "[" ChildrenNames "]"

  ConnectionsField = dq "connections" dq ":" "[" Connection* "]"
  
  IDField = dq "id" dq ":" name
  InputsField = dq "inputs" dq ":" "[" InputNames "]"
  OutputsField = dq "outputs" dq ":" "[" OutputNames "]"
  NameField = dq "name" dq ":" name
  SyncCodeField = dq "synccode" dq ":" name

  Connection = "{" SenderOrReceiver* "}"
  SenderOrReceiver = Sender | Receiver
  Receiver = dq "receiver" dq ":" Pair
  Sender = dq "sender" dq ":" Pair

  Pair = "{" dq "component" dq ":" string dq "port" dq ":" string "}" 
  
  CommaSeparatedNames = name*
  InputNames = CommaSeparatedNames
  OutputNames = CommaSeparatedNames
  ChildrenNames = CommaSeparatedNames
  
  name = string
  string = dq notDQ* dq
  dq = "\""
  notDQ = ~dq any
  space += ","
}